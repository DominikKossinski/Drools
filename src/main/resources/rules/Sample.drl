package com.sample
 
import com.sample.DroolsTest.Message;
import com.sample.DroolsTest.Question;

rule "Init"
    when
        not Question();
    then
        String[] possib = {"My main squeeze","My family"};
        Question n = new Question("WHO ARE YOU WATCHING IT WITH?",possib);
		Message.RomanticUI.setGUI(n);
        insert (n);
        System.out.println("First question!");
end


rule "1-st"
	when 
		q : Question( content == "WHO ARE YOU WATCHING IT WITH?", 
			picked_answer == "My main squeeze", act)
	then
		q.setAct(false);
		String[] possib = {"YES","NO"};
		Question n = new Question("DO YOU CARE IF HE ENJOYS IT?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "2-nd"
	when 
		q : Question( content == "DO YOU CARE IF HE ENJOYS IT?",
		 	picked_answer == "YES", act )
	then
		q.setAct(false);
		String[] possib = {"I love explosions","Brains & Beauty","Let's stick to the 'com' in 'romcom'"};
		Question n = new Question("ACTION PACKED OR THOUGHT PROVOKING?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "3-rd"
	when 
		q : Question( content == "ACTION PACKED OR THOUGHT PROVOKING?", 
			picked_answer == "I love explosions", act )
	then
		q.setAct(false);
		String[] possib = {"About face","NO"};
		Question n = new Question("MILILTARY FAN?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "4-th"
	when 
		q : Question( content == "MILILTARY FAN?", 
			picked_answer == "NO", act )
	then
		q.setAct(false);
		String[] possib = {"Girls have muscle, too!","Male"};
		Question n = new Question("MALE OR FEMALE LEAD?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "5-th"
	when 
		q : Question( content == "ACTION PACKED OR THOUGHT PROVOKING?", 
			picked_answer == "Brains & Beauty", act )
	then
		q.setAct(false);
		String[] possib = {"YES","NO"};
		Question n = new Question("STARRING AN IT GIRL?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "6-th"
	when 
		q : Question( content == "STARRING AN IT GIRL?", 
			picked_answer == "NO", act )
	then
		q.setAct(false);
		String[] possib = {"Oui","NO"};
		Question n = new Question("FOREIGN FILM?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "7-th"
	when 
		q : Question( content == "FOREIGN FILM?", 
			picked_answer == "NO", act )
	then
		q.setAct(false);
		String[] possib = {"Not crying... just allergies", "Prefer to laugh"};
		Question n = new Question("TERAR JERKER?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "8-th"
	when 
		q : Question( content == "TERAR JERKER FILM?", 
			picked_answer == "Prefer to laugh", act )
	then
		q.setAct(false);
		String[] possib = {"NO", "Yummy"};
		Question n = new Question("DO YOU LIKE BEER?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "9-th"
	when 
		q : Question( content == "DO YOU LIKE BEER?", 
			picked_answer == "NO", act )
	then
		q.setAct(false);
		String[] possib = {"Pass", "Of course!"};
		Question n = new Question("DO YOU LIKE ADAM SANDLER?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "10-th"
	when 
		q : Question( content == "DO YOU LIKE ADAM SANDLER?", 
			picked_answer == "Pass", act )
	then
		q.setAct(false);
		String[] possib = {"This one time...", "Nice girls never get the guy"};
		Question n = new Question("GOOD OR BAD GIRL?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "11-th"
	when 
		q : Question( content == "DO YOU LIKE ADAM SANDLER?", 
			picked_answer == "Of course!", act )
	then
		q.setAct(false);
		String[] possib = {"Classic Adam!", "Let's go new"};
		Question n = new Question("90s or 2000s SANDLER?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "12-th"
	when 
		q : Question( content == "ACTION PACKED OR THOUGHT PROVOKING?", 
			picked_answer == "Let's stick to the 'com' in 'romcom'", act )
	then
		q.setAct(false);
		String[] possib = {"Yes, please!","Pass"};
		Question n = new Question("JUDD APATOW FILM?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "13-th"
	when 
		q : Question( content == "JUDD APATOW FILM?", 
			picked_answer == "Yes, please!", act )
	then
		q.setAct(false);
		String[] possib = {"Yes","Nah"};
		Question n = new Question("THINKING OF MARRIAGE?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "14-th"
	when 
		q : Question( content == "THINKING OF MARRIAGE?", 
			picked_answer == "Nah", act )
	then
		q.setAct(false);
		String[] possib = {"There's humor in sorrow","I see where this is headed"};
		Question n = new Question("BROKEN UP OR KNOCKED UP?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "15-th"
	when 
		q : Question( content == "JUDD APATOW FILM?", 
			picked_answer == "Pass", act )
	then
		q.setAct(false);
		String[] possib = {"Bromance is the best","Girl power!"};
		Question n = new Question("GUYS ONLY?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "16-th"
	when 
		q : Question( content == "GUYS ONLY?", 
			picked_answer == "Bromance is the best", act )
	then
		q.setAct(false);
		String[] possib = {"Ya man!","NO"};
		Question n = new Question("DO YOU LIKE FAKE JAMAICAN ACCENTS?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

rule "17-th"
	when 
		q : Question( content == "GUYS ONLY?", 
			picked_answer == "Girl power!", act )
	then
		q.setAct(false);
		String[] possib = {"She's smitten!","She may be a little unaware"};
		Question n = new Question("IS THE GIRL IN LOVE?",possib);
		Message.RomanticUI.setGUI(n);
		insert (n);
		System.out.println(q.content + " ANSWER " + q.picked_answer);
end

/**
Here starts the rules with the decision about the film
**/

rule "18-th"
	when 
		q : Question( content == "DO YOU CARE IF HE ENJOYS IT?",
		 	picked_answer == "NO", act )
	then
		q.setAct(false);
		String[] possib = {"I love explosions","Brains & Beauty","Let's stick to the 'com' in 'romcom'"};
		Message.RomanticUI.setGUI_answer(q, "The Notebook");
end